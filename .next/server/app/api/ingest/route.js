/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ingest/route";
exports.ids = ["app/api/ingest/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fingest%2Froute&page=%2Fapi%2Fingest%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fingest%2Froute.ts&appDir=%2FUsers%2Falex%2FWebstormProjects%2Fpersonal-rag-agent%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falex%2FWebstormProjects%2Fpersonal-rag-agent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fingest%2Froute&page=%2Fapi%2Fingest%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fingest%2Froute.ts&appDir=%2FUsers%2Falex%2FWebstormProjects%2Fpersonal-rag-agent%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falex%2FWebstormProjects%2Fpersonal-rag-agent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_alex_WebstormProjects_personal_rag_agent_app_api_ingest_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/ingest/route.ts */ \"(rsc)/./app/api/ingest/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ingest/route\",\n        pathname: \"/api/ingest\",\n        filename: \"route\",\n        bundlePath: \"app/api/ingest/route\"\n    },\n    resolvedPagePath: \"/Users/alex/WebstormProjects/personal-rag-agent/app/api/ingest/route.ts\",\n    nextConfigOutput,\n    userland: _Users_alex_WebstormProjects_personal_rag_agent_app_api_ingest_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZpbmdlc3QlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmluZ2VzdCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmluZ2VzdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFsZXglMkZXZWJzdG9ybVByb2plY3RzJTJGcGVyc29uYWwtcmFnLWFnZW50JTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmFsZXglMkZXZWJzdG9ybVByb2plY3RzJTJGcGVyc29uYWwtcmFnLWFnZW50JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUN1QjtBQUNwRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vPzE0Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9hbGV4L1dlYnN0b3JtUHJvamVjdHMvcGVyc29uYWwtcmFnLWFnZW50L2FwcC9hcGkvaW5nZXN0L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9pbmdlc3Qvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9pbmdlc3RcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2luZ2VzdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9hbGV4L1dlYnN0b3JtUHJvamVjdHMvcGVyc29uYWwtcmFnLWFnZW50L2FwcC9hcGkvaW5nZXN0L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fingest%2Froute&page=%2Fapi%2Fingest%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fingest%2Froute.ts&appDir=%2FUsers%2Falex%2FWebstormProjects%2Fpersonal-rag-agent%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falex%2FWebstormProjects%2Fpersonal-rag-agent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/ingest/route.ts":
/*!*********************************!*\
  !*** ./app/api/ingest/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n\nconst dynamic = 'force-dynamic';\nconst runtime = 'nodejs';\nfunction chunkText(text) {\n    const chunks = [];\n    const chunkSize = 1000;\n    const overlap = 200;\n    let startIndex = 0;\n    while(startIndex < text.length){\n        const endIndex = startIndex + chunkSize;\n        const chunk = text.slice(startIndex, endIndex).trim();\n        if (chunk.length > 0) chunks.push(chunk);\n        startIndex = endIndex - overlap;\n    }\n    return chunks;\n}\nasync function POST(request) {\n    console.log('=== POST /api/ingest вызван ===');\n    try {\n        const [mammoth, { default: OpenAI }] = await Promise.all([\n            Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/next\"), __webpack_require__.e(\"vendor-chunks/underscore\"), __webpack_require__.e(\"vendor-chunks/mammoth\"), __webpack_require__.e(\"vendor-chunks/bluebird\"), __webpack_require__.e(\"vendor-chunks/jszip\"), __webpack_require__.e(\"vendor-chunks/xmlbuilder\"), __webpack_require__.e(\"vendor-chunks/pako\"), __webpack_require__.e(\"vendor-chunks/lop\"), __webpack_require__.e(\"vendor-chunks/readable-stream\"), __webpack_require__.e(\"vendor-chunks/@xmldom\"), __webpack_require__.e(\"vendor-chunks/inherits\"), __webpack_require__.e(\"vendor-chunks/dingbat-to-unicode\"), __webpack_require__.e(\"vendor-chunks/util-deprecate\"), __webpack_require__.e(\"vendor-chunks/string_decoder\"), __webpack_require__.e(\"vendor-chunks/safe-buffer\"), __webpack_require__.e(\"vendor-chunks/process-nextick-args\"), __webpack_require__.e(\"vendor-chunks/path-is-absolute\"), __webpack_require__.e(\"vendor-chunks/option\"), __webpack_require__.e(\"vendor-chunks/lie\"), __webpack_require__.e(\"vendor-chunks/isarray\"), __webpack_require__.e(\"vendor-chunks/immediate\"), __webpack_require__.e(\"vendor-chunks/core-util-is\"), __webpack_require__.e(\"vendor-chunks/base64-js\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! mammoth */ \"(rsc)/./node_modules/mammoth/lib/index.js\", 19)),\n            Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/formdata-node\"), __webpack_require__.e(\"vendor-chunks/openai\"), __webpack_require__.e(\"vendor-chunks/web-streams-polyfill\"), __webpack_require__.e(\"vendor-chunks/node-fetch\"), __webpack_require__.e(\"vendor-chunks/event-target-shim\"), __webpack_require__.e(\"vendor-chunks/agentkeepalive\"), __webpack_require__.e(\"vendor-chunks/form-data-encoder\"), __webpack_require__.e(\"vendor-chunks/abort-controller\"), __webpack_require__.e(\"vendor-chunks/ms\"), __webpack_require__.e(\"vendor-chunks/humanize-ms\")]).then(__webpack_require__.bind(__webpack_require__, /*! openai */ \"(rsc)/./node_modules/openai/index.mjs\"))\n        ]);\n        const supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(\"https://zqharntcylmxxdcvbtqi.supabase.co\", process.env.SUPABASE_SERVICE_ROLE_KEY);\n        const authHeader = request.headers.get('authorization');\n        if (!authHeader) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Не авторизован'\n            }, {\n                status: 401\n            });\n        }\n        const token = authHeader.replace('Bearer ', '');\n        const { data: { user }, error: authError } = await supabase.auth.getUser(token);\n        if (authError || !user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Не авторизован'\n            }, {\n                status: 401\n            });\n        }\n        const formData = await request.formData();\n        const file = formData.get('file');\n        if (!file) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Файл не предоставлен'\n            }, {\n                status: 400\n            });\n        }\n        console.log(`Файл: ${file.name}, ${file.size} bytes, тип: ${file.type}`);\n        // Проверка типа файла - ПОКА ТОЛЬКО TXT И DOCX\n        const allowedTypes = [\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n            'text/plain'\n        ];\n        if (!allowedTypes.includes(file.type)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Поддерживаются только DOCX и TXT файлы. PDF будет добавлен позже.'\n            }, {\n                status: 400\n            });\n        }\n        const timestamp = Date.now();\n        const safeName = file.name.replace(/[^a-zA-Z0-9.-]/g, '_');\n        const storagePath = `${user.id}/${timestamp}-${safeName}`;\n        const arrayBuffer = await file.arrayBuffer();\n        const buffer = Buffer.from(arrayBuffer);\n        // Загрузка в Storage\n        console.log('Загрузка в Storage...');\n        const { error: uploadError } = await supabase.storage.from('documents').upload(storagePath, buffer, {\n            contentType: file.type\n        });\n        if (uploadError) {\n            console.error('Upload error:', uploadError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: uploadError.message\n            }, {\n                status: 500\n            });\n        }\n        // Парсинг документа\n        console.log('Парсинг...');\n        let parsedText = '';\n        try {\n            if (file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document') {\n                const result = await mammoth.extractRawText({\n                    buffer\n                });\n                parsedText = result.value;\n            } else if (file.type === 'text/plain') {\n                parsedText = buffer.toString('utf-8');\n            }\n            console.log(`Распарсено ${parsedText.length} символов`);\n        } catch (parseError) {\n            console.error('Parse error:', parseError);\n            await supabase.storage.from('documents').remove([\n                storagePath\n            ]);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Ошибка парсинга: ${parseError instanceof Error ? parseError.message : 'Unknown'}`\n            }, {\n                status: 500\n            });\n        }\n        if (parsedText.length < 10) {\n            await supabase.storage.from('documents').remove([\n                storagePath\n            ]);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Документ пустой или слишком короткий'\n            }, {\n                status: 400\n            });\n        }\n        // Сохранение в БД\n        console.log('Сохранение в БД...');\n        const { data: docData, error: dbError } = await supabase.from('documents').insert({\n            user_id: user.id,\n            filename: file.name,\n            storage_path: storagePath,\n            file_type: file.type,\n            file_size: file.size,\n            content_preview: parsedText.substring(0, 500)\n        }).select().single();\n        if (dbError) {\n            console.error('DB error:', dbError);\n            await supabase.storage.from('documents').remove([\n                storagePath\n            ]);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: dbError.message\n            }, {\n                status: 500\n            });\n        }\n        // Чанкинг\n        console.log('Создание чанков...');\n        const chunks = chunkText(parsedText);\n        console.log(`Создано ${chunks.length} чанков`);\n        if (chunks.length === 0) {\n            await supabase.from('documents').delete().eq('id', docData.id);\n            await supabase.storage.from('documents').remove([\n                storagePath\n            ]);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Не удалось создать чанки'\n            }, {\n                status: 500\n            });\n        }\n        // Эмбеддинги\n        console.log('Генерация эмбеддингов...');\n        let embeddings;\n        try {\n            const openai = new OpenAI({\n                apiKey: process.env.OPENAI_API_KEY\n            });\n            const response = await openai.embeddings.create({\n                model: 'text-embedding-3-small',\n                input: chunks\n            });\n            embeddings = response.data.map((item)=>item.embedding);\n            console.log(`Сгенерировано ${embeddings.length} эмбеддингов`);\n        } catch (embError) {\n            console.error('Embedding error:', embError);\n            await supabase.from('documents').delete().eq('id', docData.id);\n            await supabase.storage.from('documents').remove([\n                storagePath\n            ]);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Ошибка эмбеддингов: ${embError instanceof Error ? embError.message : 'Unknown'}`\n            }, {\n                status: 500\n            });\n        }\n        // Сохранение чанков\n        console.log('Сохранение чанков...');\n        const chunksToInsert = chunks.map((chunk, index)=>({\n                document_id: docData.id,\n                user_id: user.id,\n                chunk_text: chunk,\n                chunk_index: index,\n                embedding: embeddings[index]\n            }));\n        const { error: chunksError } = await supabase.from('doc_chunks').insert(chunksToInsert);\n        if (chunksError) {\n            console.error('Chunks error:', chunksError);\n            await supabase.from('documents').delete().eq('id', docData.id);\n            await supabase.storage.from('documents').remove([\n                storagePath\n            ]);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: chunksError.message\n            }, {\n                status: 500\n            });\n        }\n        console.log('Документ полностью обработан!');\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            filename: file.name,\n            documentId: docData.id,\n            chunksCount: chunks.length\n        });\n    } catch (error) {\n        console.error('Error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : 'Unknown error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3V0ZS50cz84NThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJztcbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XG5cbmZ1bmN0aW9uIGNodW5rVGV4dCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGNodW5rczogc3RyaW5nW10gPSBbXTtcbiAgY29uc3QgY2h1bmtTaXplID0gMTAwMDtcbiAgY29uc3Qgb3ZlcmxhcCA9IDIwMDtcbiAgbGV0IHN0YXJ0SW5kZXggPSAwO1xuXG4gIHdoaWxlIChzdGFydEluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0SW5kZXggKyBjaHVua1NpemU7XG4gICAgY29uc3QgY2h1bmsgPSB0ZXh0LnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KS50cmltKCk7XG4gICAgaWYgKGNodW5rLmxlbmd0aCA+IDApIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICBzdGFydEluZGV4ID0gZW5kSW5kZXggLSBvdmVybGFwO1xuICB9XG5cbiAgcmV0dXJuIGNodW5rcztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc29sZS5sb2coJz09PSBQT1NUIC9hcGkvaW5nZXN0INCy0YvQt9Cy0LDQvSA9PT0nKTtcblxuICB0cnkge1xuICAgIGNvbnN0IFttYW1tb3RoLCB7IGRlZmF1bHQ6IE9wZW5BSSB9XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGltcG9ydCgnbWFtbW90aCcpLFxuICAgICAgaW1wb3J0KCdvcGVuYWknKSxcbiAgICBdKTtcblxuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgICAgICBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIVxuICAgICk7XG5cbiAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpO1xuICAgIGlmICghYXV0aEhlYWRlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICfQndC1INCw0LLRgtC+0YDQuNC30L7QstCw0L0nIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnJlcGxhY2UoJ0JlYXJlciAnLCAnJyk7XG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSwgZXJyb3I6IGF1dGhFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKHRva2VuKTtcblxuICAgIGlmIChhdXRoRXJyb3IgfHwgIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAn0J3QtSDQsNCy0YLQvtGA0LjQt9C+0LLQsNC9JyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICAgIGNvbnN0IGZpbGUgPSBmb3JtRGF0YS5nZXQoJ2ZpbGUnKSBhcyBGaWxlO1xuXG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ9Ck0LDQudC7INC90LUg0L/RgNC10LTQvtGB0YLQsNCy0LvQtdC9JyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGDQpNCw0LnQuzogJHtmaWxlLm5hbWV9LCAke2ZpbGUuc2l6ZX0gYnl0ZXMsINGC0LjQvzogJHtmaWxlLnR5cGV9YCk7XG5cbiAgICAvLyDQn9GA0L7QstC10YDQutCwINGC0LjQv9CwINGE0LDQudC70LAgLSDQn9Ce0JrQkCDQotCe0JvQrNCa0J4gVFhUINCYIERPQ1hcbiAgICBjb25zdCBhbGxvd2VkVHlwZXMgPSBbXG4gICAgICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnLFxuICAgICAgJ3RleHQvcGxhaW4nXG4gICAgXTtcblxuICAgIGlmICghYWxsb3dlZFR5cGVzLmluY2x1ZGVzKGZpbGUudHlwZSkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIGVycm9yOiAn0J/QvtC00LTQtdGA0LbQuNCy0LDRjtGC0YHRjyDRgtC+0LvRjNC60L4gRE9DWCDQuCBUWFQg0YTQsNC50LvRiy4gUERGINCx0YPQtNC10YIg0LTQvtCx0LDQstC70LXQvSDQv9C+0LfQttC1LidcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBzYWZlTmFtZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9bXmEtekEtWjAtOS4tXS9nLCAnXycpO1xuICAgIGNvbnN0IHN0b3JhZ2VQYXRoID0gYCR7dXNlci5pZH0vJHt0aW1lc3RhbXB9LSR7c2FmZU5hbWV9YDtcbiAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcik7XG5cbiAgICAvLyDQl9Cw0LPRgNGD0LfQutCwINCyIFN0b3JhZ2VcbiAgICBjb25zb2xlLmxvZygn0JfQsNCz0YDRg9C30LrQsCDQsiBTdG9yYWdlLi4uJyk7XG4gICAgY29uc3QgeyBlcnJvcjogdXBsb2FkRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2VcbiAgICAgICAgLmZyb20oJ2RvY3VtZW50cycpXG4gICAgICAgIC51cGxvYWQoc3RvcmFnZVBhdGgsIGJ1ZmZlciwgeyBjb250ZW50VHlwZTogZmlsZS50eXBlIH0pO1xuXG4gICAgaWYgKHVwbG9hZEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVcGxvYWQgZXJyb3I6JywgdXBsb2FkRXJyb3IpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IHVwbG9hZEVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG5cbiAgICAvLyDQn9Cw0YDRgdC40L3QsyDQtNC+0LrRg9C80LXQvdGC0LBcbiAgICBjb25zb2xlLmxvZygn0J/QsNGA0YHQuNC90LMuLi4nKTtcbiAgICBsZXQgcGFyc2VkVGV4dCA9ICcnO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChmaWxlLnR5cGUgPT09ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCcpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbWFtbW90aC5leHRyYWN0UmF3VGV4dCh7IGJ1ZmZlciB9KTtcbiAgICAgICAgcGFyc2VkVGV4dCA9IHJlc3VsdC52YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZmlsZS50eXBlID09PSAndGV4dC9wbGFpbicpIHtcbiAgICAgICAgcGFyc2VkVGV4dCA9IGJ1ZmZlci50b1N0cmluZygndXRmLTgnKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coYNCg0LDRgdC/0LDRgNGB0LXQvdC+ICR7cGFyc2VkVGV4dC5sZW5ndGh9INGB0LjQvNCy0L7Qu9C+0LJgKTtcbiAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQYXJzZSBlcnJvcjonLCBwYXJzZUVycm9yKTtcbiAgICAgIGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2UuZnJvbSgnZG9jdW1lbnRzJykucmVtb3ZlKFtzdG9yYWdlUGF0aF0pO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgZXJyb3I6IGDQntGI0LjQsdC60LAg0L/QsNGA0YHQuNC90LPQsDogJHtwYXJzZUVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBwYXJzZUVycm9yLm1lc3NhZ2UgOiAnVW5rbm93bid9YFxuICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG5cbiAgICBpZiAocGFyc2VkVGV4dC5sZW5ndGggPCAxMCkge1xuICAgICAgYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZS5mcm9tKCdkb2N1bWVudHMnKS5yZW1vdmUoW3N0b3JhZ2VQYXRoXSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ9CU0L7QutGD0LzQtdC90YIg0L/Rg9GB0YLQvtC5INC40LvQuCDRgdC70LjRiNC60L7QvCDQutC+0YDQvtGC0LrQuNC5JyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIC8vINCh0L7RhdGA0LDQvdC10L3QuNC1INCyINCR0JRcbiAgICBjb25zb2xlLmxvZygn0KHQvtGF0YDQsNC90LXQvdC40LUg0LIg0JHQlC4uLicpO1xuICAgIGNvbnN0IHsgZGF0YTogZG9jRGF0YSwgZXJyb3I6IGRiRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdkb2N1bWVudHMnKVxuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICB1c2VyX2lkOiB1c2VyLmlkLFxuICAgICAgICAgIGZpbGVuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgc3RvcmFnZV9wYXRoOiBzdG9yYWdlUGF0aCxcbiAgICAgICAgICBmaWxlX3R5cGU6IGZpbGUudHlwZSxcbiAgICAgICAgICBmaWxlX3NpemU6IGZpbGUuc2l6ZSxcbiAgICAgICAgICBjb250ZW50X3ByZXZpZXc6IHBhcnNlZFRleHQuc3Vic3RyaW5nKDAsIDUwMCksXG4gICAgICAgIH0pXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZGJFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignREIgZXJyb3I6JywgZGJFcnJvcik7XG4gICAgICBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlLmZyb20oJ2RvY3VtZW50cycpLnJlbW92ZShbc3RvcmFnZVBhdGhdKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBkYkVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG5cbiAgICAvLyDQp9Cw0L3QutC40L3Qs1xuICAgIGNvbnNvbGUubG9nKCfQodC+0LfQtNCw0L3QuNC1INGH0LDQvdC60L7Qsi4uLicpO1xuICAgIGNvbnN0IGNodW5rcyA9IGNodW5rVGV4dChwYXJzZWRUZXh0KTtcbiAgICBjb25zb2xlLmxvZyhg0KHQvtC30LTQsNC90L4gJHtjaHVua3MubGVuZ3RofSDRh9Cw0L3QutC+0LJgKTtcblxuICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCdkb2N1bWVudHMnKS5kZWxldGUoKS5lcSgnaWQnLCBkb2NEYXRhLmlkKTtcbiAgICAgIGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2UuZnJvbSgnZG9jdW1lbnRzJykucmVtb3ZlKFtzdG9yYWdlUGF0aF0pO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICfQndC1INGD0LTQsNC70L7RgdGMINGB0L7Qt9C00LDRgtGMINGH0LDQvdC60LgnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuXG4gICAgLy8g0K3QvNCx0LXQtNC00LjQvdCz0LhcbiAgICBjb25zb2xlLmxvZygn0JPQtdC90LXRgNCw0YbQuNGPINGN0LzQsdC10LTQtNC40L3Qs9C+0LIuLi4nKTtcbiAgICBsZXQgZW1iZWRkaW5nczogbnVtYmVyW11bXTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBvcGVuYWkgPSBuZXcgT3BlbkFJKHsgYXBpS2V5OiBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgb3BlbmFpLmVtYmVkZGluZ3MuY3JlYXRlKHtcbiAgICAgICAgbW9kZWw6ICd0ZXh0LWVtYmVkZGluZy0zLXNtYWxsJyxcbiAgICAgICAgaW5wdXQ6IGNodW5rcyxcbiAgICAgIH0pO1xuICAgICAgZW1iZWRkaW5ncyA9IHJlc3BvbnNlLmRhdGEubWFwKGl0ZW0gPT4gaXRlbS5lbWJlZGRpbmcpO1xuICAgICAgY29uc29sZS5sb2coYNCh0LPQtdC90LXRgNC40YDQvtCy0LDQvdC+ICR7ZW1iZWRkaW5ncy5sZW5ndGh9INGN0LzQsdC10LTQtNC40L3Qs9C+0LJgKTtcbiAgICB9IGNhdGNoIChlbWJFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRW1iZWRkaW5nIGVycm9yOicsIGVtYkVycm9yKTtcbiAgICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ2RvY3VtZW50cycpLmRlbGV0ZSgpLmVxKCdpZCcsIGRvY0RhdGEuaWQpO1xuICAgICAgYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZS5mcm9tKCdkb2N1bWVudHMnKS5yZW1vdmUoW3N0b3JhZ2VQYXRoXSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBlcnJvcjogYNCe0YjQuNCx0LrQsCDRjdC80LHQtdC00LTQuNC90LPQvtCyOiAke2VtYkVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlbWJFcnJvci5tZXNzYWdlIDogJ1Vua25vd24nfWBcbiAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuXG4gICAgLy8g0KHQvtGF0YDQsNC90LXQvdC40LUg0YfQsNC90LrQvtCyXG4gICAgY29uc29sZS5sb2coJ9Ch0L7RhdGA0LDQvdC10L3QuNC1INGH0LDQvdC60L7Qsi4uLicpO1xuICAgIGNvbnN0IGNodW5rc1RvSW5zZXJ0ID0gY2h1bmtzLm1hcCgoY2h1bmssIGluZGV4KSA9PiAoe1xuICAgICAgZG9jdW1lbnRfaWQ6IGRvY0RhdGEuaWQsXG4gICAgICB1c2VyX2lkOiB1c2VyLmlkLFxuICAgICAgY2h1bmtfdGV4dDogY2h1bmssXG4gICAgICBjaHVua19pbmRleDogaW5kZXgsXG4gICAgICBlbWJlZGRpbmc6IGVtYmVkZGluZ3NbaW5kZXhdLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IHsgZXJyb3I6IGNodW5rc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnZG9jX2NodW5rcycpXG4gICAgICAgIC5pbnNlcnQoY2h1bmtzVG9JbnNlcnQpO1xuXG4gICAgaWYgKGNodW5rc0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdDaHVua3MgZXJyb3I6JywgY2h1bmtzRXJyb3IpO1xuICAgICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgnZG9jdW1lbnRzJykuZGVsZXRlKCkuZXEoJ2lkJywgZG9jRGF0YS5pZCk7XG4gICAgICBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlLmZyb20oJ2RvY3VtZW50cycpLnJlbW92ZShbc3RvcmFnZVBhdGhdKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBjaHVua3NFcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ9CU0L7QutGD0LzQtdC90YIg0L/QvtC70L3QvtGB0YLRjNGOINC+0LHRgNCw0LHQvtGC0LDQvSEnKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZmlsZW5hbWU6IGZpbGUubmFtZSxcbiAgICAgIGRvY3VtZW50SWQ6IGRvY0RhdGEuaWQsXG4gICAgICBjaHVua3NDb3VudDogY2h1bmtzLmxlbmd0aCxcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVDbGllbnQiLCJkeW5hbWljIiwicnVudGltZSIsImNodW5rVGV4dCIsInRleHQiLCJjaHVua3MiLCJjaHVua1NpemUiLCJvdmVybGFwIiwic3RhcnRJbmRleCIsImxlbmd0aCIsImVuZEluZGV4IiwiY2h1bmsiLCJzbGljZSIsInRyaW0iLCJwdXNoIiwiUE9TVCIsInJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwibWFtbW90aCIsImRlZmF1bHQiLCJPcGVuQUkiLCJQcm9taXNlIiwiYWxsIiwic3VwYWJhc2UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwidG9rZW4iLCJyZXBsYWNlIiwiZGF0YSIsInVzZXIiLCJhdXRoRXJyb3IiLCJhdXRoIiwiZ2V0VXNlciIsImZvcm1EYXRhIiwiZmlsZSIsIm5hbWUiLCJzaXplIiwidHlwZSIsImFsbG93ZWRUeXBlcyIsImluY2x1ZGVzIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInNhZmVOYW1lIiwic3RvcmFnZVBhdGgiLCJpZCIsImFycmF5QnVmZmVyIiwiYnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsInVwbG9hZEVycm9yIiwic3RvcmFnZSIsInVwbG9hZCIsImNvbnRlbnRUeXBlIiwibWVzc2FnZSIsInBhcnNlZFRleHQiLCJyZXN1bHQiLCJleHRyYWN0UmF3VGV4dCIsInZhbHVlIiwidG9TdHJpbmciLCJwYXJzZUVycm9yIiwicmVtb3ZlIiwiRXJyb3IiLCJkb2NEYXRhIiwiZGJFcnJvciIsImluc2VydCIsInVzZXJfaWQiLCJmaWxlbmFtZSIsInN0b3JhZ2VfcGF0aCIsImZpbGVfdHlwZSIsImZpbGVfc2l6ZSIsImNvbnRlbnRfcHJldmlldyIsInN1YnN0cmluZyIsInNlbGVjdCIsInNpbmdsZSIsImRlbGV0ZSIsImVxIiwiZW1iZWRkaW5ncyIsIm9wZW5haSIsImFwaUtleSIsIk9QRU5BSV9BUElfS0VZIiwicmVzcG9uc2UiLCJjcmVhdGUiLCJtb2RlbCIsImlucHV0IiwibWFwIiwiaXRlbSIsImVtYmVkZGluZyIsImVtYkVycm9yIiwiY2h1bmtzVG9JbnNlcnQiLCJpbmRleCIsImRvY3VtZW50X2lkIiwiY2h1bmtfdGV4dCIsImNodW5rX2luZGV4IiwiY2h1bmtzRXJyb3IiLCJzdWNjZXNzIiwiZG9jdW1lbnRJZCIsImNodW5rc0NvdW50Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/ingest/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fingest%2Froute&page=%2Fapi%2Fingest%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fingest%2Froute.ts&appDir=%2FUsers%2Falex%2FWebstormProjects%2Fpersonal-rag-agent%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Falex%2FWebstormProjects%2Fpersonal-rag-agent&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();